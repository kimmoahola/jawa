(this.webpackJsonpjawa=this.webpackJsonpjawa||[]).push([[0],{11:function(e,t,n){},12:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(3),o=n.n(s),i=(n(11),n(12),n(1)),c=n.n(i),l=n(4),u=n(5);function f(e){var t={};if(1===e.nodeType){if(e.attributes.length>0){t["@attributes"]={};for(var n=0;n<e.attributes.length;n+=1){var a=e.attributes.item(n);t["@attributes"][a.nodeName]=a.nodeValue}}}else 3===e.nodeType&&(t=e.nodeValue);if(e.hasChildNodes()&&1===e.childNodes.length&&3===e.childNodes[0].nodeType)t=e.childNodes[0].nodeValue;else if(e.hasChildNodes())for(var r=0;r<e.childNodes.length;r+=1){var s=e.childNodes.item(r),o=s.nodeName;if("undefined"===typeof t[o])t[o]=f(s);else{if("undefined"===typeof t[o].push){var i=t[o];t[o]=[],t[o].push(i)}t[o].push(f(s))}}return t}var m=function(e){for(var t=[8,16,19],n=[],a=0;a<e.length;a++){var r=e[a];-1!==t.indexOf(r.ts.getHours())&&n.push(r)}return n};function d(){var e=Object(a.useState)(void 0),t=Object(u.a)(e,2),n=t[0],s=t[1];return Object(a.useEffect)((function(){function e(){return(e=Object(l.a)(c.a.mark((function e(){var t,n,a,r,o,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="Tampere",(n=new Date(Date.now())).setTime(n.getTime()+1728e5),e.next=5,fetch("https://opendata.fmi.fi/wfs?request=getFeature&storedquery_id=fmi::forecast::harmonie::surface::point::simple&place=".concat(t,"&parameters=temperature&endtime=").concat(n.toISOString()));case 5:return a=e.sent,e.next=8,a.text();case 8:r=e.sent,o=(new DOMParser).parseFromString(r,"text/xml"),i=f(o),s(i["wfs:FeatureCollection"]&&i["wfs:FeatureCollection"]["wfs:member"]?{ts:new Date(i["wfs:FeatureCollection"]["@attributes"].timeStamp),place:t,forecast:m(i["wfs:FeatureCollection"]["wfs:member"].map((function(e){return{ts:new Date(e["BsWfs:BsWfsElement"]["BsWfs:Time"]),temp:Number(e["BsWfs:BsWfsElement"]["BsWfs:ParameterValue"])}})))}:{place:t});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),r.a.createElement("div",null,n?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Forecast of"),r.a.createElement("h1",null,n.place),r.a.createElement("div",null,n.forecast.map((function(e,t){return r.a.createElement(p,{key:t,ts:e.ts,temp:e.temp})}))),r.a.createElement("p",null,"Last updated ",n.ts.toLocaleString("fi-FI"))):"")}function p(e){var t=e.ts,n=e.temp;return r.a.createElement("div",null,t.toLocaleString("fi-FI"),": ",n)}var h=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(d,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},6:function(e,t,n){e.exports=n(14)}},[[6,1,2]]]);
//# sourceMappingURL=main.d9c7d5a4.chunk.js.map